//utf-8 width module ccchart.m.cssHybrid
window.ccchart=(function(a){return{aboutThis:{version:"0.945",update:20120706,lisence:"Public Domain",memo:"This is a Simple JavaScript chart that does not depend on libraries such as jQuery.",demo:"http://jsgt.org/c/",writer:"Toshiro Takahashi @toshirot",see:"http://www.facebook.com/javascripting",branched:"This project has branched from the jQchart, that made by Toshiro TakahashijQchart is the jQuery plugin. since 2007.http://archive.plugins.jquery.com/project/jQchart",module:[]},m:[],init:function(g,f,e){if((""+g.nodeName).toLowerCase()==="canvas"){this.canvas=g;this.id=g.id}else{this.canvas=document.getElementById(g);this.id=g}if(typeof this.ids!=="object"){this.ids=[];this.cxs=[];this.ops=[];this.idsLen=0;this.maxZindex=0;this.moveDly=0;this.moveStack=[];this.moveStackDly=[];this.cssgs=[];this.cssTooltips=[];for(var c in a.ccchart.m){var b=!!c;break}if(b){for(var c in a.ccchart.m){this.extend(a.ccchart.m[c])}}}if(!this.adds){this.adds=[];this.adds.push([g,f,e])}this.idsLen++;this.canvas.setAttribute("class","-ccchart");this.ids[this.id]=this.canvas;this.ctx=this.cxs[this.id]=this.canvas.getContext("2d");this.ops[this.id]=[];var d=document.getElementById("-ccchart-css-hybrid");if(d){document.body.removeChild(d)}this.loadBranch(f,e);return this},loadBranch:function(f,e){var d=(typeof f==="string");var b=(typeof f.config==="string");var c=(typeof f.data==="string");if(d){this.getOption(f,e,false)}else{if(c||b){if(c&&b){this.getOptionCnfData(f,e,false)}else{if(b){this.getOptionCnf(f,e,true)}else{if(c){this.getOptionData(f,e,true)}}}}else{if(this.util.isArray(f.data)){this.preProcessing(f,e)}}}},extend:function(d,e){if(!e){e=d;d=this}if(!e.aboutThis_module){e.aboutThis_module={name:"module_"+(new Date()).getTime()}}for(var c in e){if(c==="aboutThis_module"){var b=e[c]["name"]||"module_"+(new Date()).getTime();d.aboutThis["module"][e[c].name]=e[c]}else{d[c]=e[c]}}return d},preProcessing:function(g,f){if(!g){g={}}if(!g.config){g.config={}}this.op=g;this.width=g.config.width||600;this.height=g.config.height||400;this.bg=g.config.bg||false;if(this.bg){this.bgGradient={direction:"vertical",from:this.bg,to:this.bg}}else{this.bgGradient=g.config.bgGradient||{direction:"vertical",from:"#687478",to:"#222"}}this.useCss=g.config.useCss||"no";this.useMarker=g.config.useMarker||"none";if(this.useMarker==="css-ring"||this.useMarker==="css-maru"){this.useCss="yes"}this.useCssToolTip=g.config.useCssToolTip||"yes";this.markerWidth=g.config.markerWidth||this.lineWidth*2;if(this.useCss==="yes"){this.bind("scroll","_adjustcsspos");this.bind("load","_adjustcsspos");this.bind("resize","_adjustcsspos")}this.wkdata=g.data||[];this.useFirstToColName=(g.config.useFirstToColName===false)?false:true;if(this.wkdata.length===1){this.useFirstToColName=false}this.useFirstToRowName=(g.config.useFirstToRowName===false)?false:true;this.colNames=(this.useFirstToColName)?this.wkdata.slice(0,1)[0]:"";this.data=(this.useFirstToColName)?this.wkdata.slice(1):this.wkdata;this.rowNames=[];if(this.useFirstToRowName){this.data=[];this.colNamesTitle=this.colNames.slice(0,1)[0];this.colNames=this.colNames.slice(1);for(var c=1;c<this.wkdata.length;c++){this.rowNames.push(this.wkdata[c][0]);this.data.push(this.wkdata[c].slice(1))}}this.dataRowLen=this.data.length;this.dataColLen=this.data[0].length;var d=[];for(var c=0;c<this.data.length;c++){d[c]=[];for(var b=0;b<this.data[c].length;b++){d[c][b]=parseFloat(ccchart.data[c][b])}}this.data=d;this.type=g.config.type||"line";this.axisXLen=this.op.config.axisXLen||10;this.yScalePercent=this.op.config.yScalePercent||"no";if(this.type==="stacked%"){this.percentVal=this.op.config.percentVal||"yes"}this.title=g.config.title||"";this.subtitle=g.config.subtitle||g.config.subTitle||"";this.canvas.setAttribute("title",this.title);this.onlyChart=g.config.onlyChart||"no";this.onlyChartWidthTitle=g.config.onlyChartWidthTitle||"no";this.paddingDefault=g.config.paddingDefault||10;if(this.onlyChartWidthTitle==="yes"){this.paddingBottomDefault=this.paddingLeftDefault=this.paddingRightDefault=this.paddingDefault;this.paddingTopDefault=90;this.onlyChart="yes"}else{if(this.onlyChart==="yes"){this.paddingTopDefault=this.paddingBottomDefault=this.paddingLeftDefault=this.paddingRightDefault=this.paddingDefault}else{this.paddingTopDefault=90;if(this.title===""&&this.adds.length===1){this.paddingTopDefault=this.paddingTopDefault-30}if(this.subtitle===""&&this.adds.length===1){this.paddingTopDefault=this.paddingTopDefault-15}this.paddingBottomDefault=40;this.paddingLeftDefault=100;if(this.yScalePercent==="no"){this.paddingLeftDefault=70}this.paddingRightDefault=80}}if(this.adds.length>=2){this.paddingRightDefault=160}this.useVal=g.config.useVal||"no";if(g.config.type==="stacked%"&&g.config.useVal==="yes"){this.paddingTopDefault=90}this.paddingTop=g.config.paddingTop||this.paddingTopDefault;this.paddingBottom=g.config.paddingBottom||this.paddingBottomDefault;this.paddingLeft=g.config.paddingLeft||this.paddingLeftDefault;this.paddingRight=g.config.paddingRight||this.paddingRightDefault;this.chartWidth=this.width-this.paddingLeft-this.paddingRight;this.chartHeight=this.height-this.paddingTop-this.paddingBottom;this.chartTop=this.paddingTop;this.chartBottom=this.height-this.paddingBottom;this.chartLeft=this.paddingLeft;this.chartRight=this.width-this.paddingRight;this.yGap=this.chartHeight/this.axisXLen;this.xColor=g.config.xColor||"rgba(180,180,180,0.3)";this.yColor=g.config.yColor||"rgba(180,180,180,0.3)";this.axisYLen=this.dataColLen;this.xGap=parseInt((this.chartWidth)/this.axisYLen,10);if(typeof g.config.maxY==="undefined"){if(this.type==="stacked"||this.type==="stackedarea"||this.type==="stacked%"){this.maxY=this.util.getMaxSum(this)}else{this.maxY=this.util.getMax(this)}}else{this.maxY=parseFloat(g.config.maxY)}if(this.yScalePercent==="no"){var e=Math.pow(10,(""+this.maxY).split(".")[0].length-2);this.roundedUpMaxY=(g.config.roundedUpMaxY!==undefined)?g.config.roundedUpMaxY:e;if(this.roundedUpMaxY!==0){this.maxY=Math.ceil(this.maxY/this.roundedUpMaxY)*this.roundedUpMaxY}else{this.maxY=this.maxY}}this.minY=0;if(this.type==="line"||this.type==="bezi2"||this.type==="bezi"||this.type==="area"||this.type==="ampli"){if(typeof g.config.minY==="undefined"){this.minY=this.util.getMin(this)}else{this.minY=parseFloat(g.config.minY)||0}}this.yGapValue=parseFloat((this.maxY-this.minY)/this.axisXLen,10);this.unitH=this.chartHeight/(this.maxY-this.minY);if(this.type==="stacked%"){this.unitH=this.chartHeight/100}this.wkYScale=this.minY;this.colorSet=g.config.colorSet||["red","#FF9114","#3CB000","#00A8A2","#0036C0","#C328FF","#FF34C0"];this.textColor=g.config.textColor||false;this.textColors=g.config.textColors||{title:"#ccc",subTitle:"#ddd",x:"#aaa",y:"#aaa",hanrei:"#ccc",unit:"#aaa",memo:"#ccc"};this.hanreiMarkerStyle=g.config.hanreiMarkerStyle||"arc";this.lineWidth=g.config.lineWidth?g.config.lineWidth:3;this.barPadding=g.config.barPadding||10;this.barWidth=g.config.barWidth||10;this.barGap=g.config.barGap||1;this.useMarker=g.config.useMarker||"none";this.markerWidth=g.config.markerWidth||this.lineWidth*2;this.unit=g.config.unit||"";this.flipDirection=g.config.flipDirection||"x";this.xLines=g.config.xLines||"none"||[{color:"rgba(204,153,0,0.7)",width:"1",val:0,vColor:"rgba(204,153,0,0.7)",xOffset:2,yOffset:4}];this._memo=(typeof g.config.memo==="undefined")?null:g.config.memo;this._img=(typeof g.config.img==="undefined")?null:g.config.img;this.useShadow=g.config.useShadow||"yes";this.ua=navigator.userAgent.toLowerCase();this.prefix=this.ua.match(/webkit/)?"-webkit":this.ua.match(/firefox/)?"-moz":this.ua.match(/opera/)?"-o":"-ms";this.pfx=[];this.setPfx("transform");this.setPfx("transform-origin");this.setPfx("transition");this.setPfx("box-sizing");this.borderWidth=g.config.borderWidth||3;this.useCssToolTip=g.config.useCssToolTip||"yes";this.opsLen=0;for(var c in this){this.ops[this.id][c]=this[c];this.opsLen++}if(this.useCss==="yes"){this.useCssSetting(g)}this.ondrew=f||null;this.draw(g)},setPfx:function(b){return this.pfx[b]=this.prefix+"-"+b},get:function(b,f){var e=this;var d=(d===false)?false:true;var c=new XMLHttpRequest();c.open("GET",b,d);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(g){if(c.readyState==4&&c.status==200){if(c.responseText===""){return c}var h=decodeURIComponent(c.responseText);if(f){f(h)}}};c.send();return c},getOption:function(e,d,c){var b=this;this.get(e,function(f){try{e=JSON.parse(f);b.loadBranch(e,d)}catch(g){}},c)},getOptionCnfData:function(e,d,c){var b=this;this.get(e.config,function(f){try{e.config=JSON.parse(f);b.getOptionData(e,d,true)}catch(g){}},c)},getOptionCnf:function(e,d,c){var b=this;this.get(e.config,function(f){try{e.config=JSON.parse(f);b.preProcessing(e,d)}catch(g){}},c)},getOptionData:function(e,d,c){var b=this;this.get(e.data,function(f){try{e.data=JSON.parse(f);b.preProcessing(e,d)}catch(g){}},c)},bind:function(f,h){var e=this;var g=this.canvas;if(f==="click"||f==="touchstart"){var d=this.util.isMobile();f=(d)?"touchstart":"click"}if(typeof this.ids!=="object"){g=a}if(h!=="_adjustcsspos"){if(typeof h==="function"){g.removeEventListener(f,function(i){h.apply(e,[i,e.canvas])});g.addEventListener(f,function(i){h.apply(e,[i,e.canvas])});if(this.useCss==="yes"&&this.hybridBox){this.hybridBox.addEventListener(f,function(i){h.apply(e,[i,e.canvas])})}}}if(this.useCss!=="yes"){return this}if(f==="load"){c(this,a,"load")}if(f==="resize"){c(this,a,"resize")}if(f==="scroll"){c(this,document,"scroll")}function b(){e.adjustCss(f)}function c(j,k,i){if(j["_css_"+i+"Event"]!=="on"){k.addEventListener(i,b);j["_css_"+i+"Event"]="on"}}return this},$:function(b){if(typeof b==="function"){this.bind("load",b)}},draw:function(b){if(this.adds.length<=2){this.canvas.width=this.width;this.canvas.height=this.height;this.ctx.scale(1,1);this.ctx.translate(0,0);this.drawGradient();this.drawAxisX();this.drawAxisY();if(this.onlyChart==="no"||this.onlyChartWidthTitle==="yes"){this.drawTitle()}if(this.onlyChart==="no"){this.drawSubTitle()}}else{this.drawAxisX(this.adds.length)}if(this.onlyChart==="no"){this.drowHanrei()}if(typeof this._img==="object"){this.drawImg(this._img)}if(typeof this._memo==="object"){this.drawMemo()}if(b){this.swtGraph()}if(this.useMarker!=="none"){this.drawMarkers()}if(this.xLines!=="none"){this.drawXLine()}if(this.type==="line"&&this.useVal!=="no"){this.drawVals()}if(this.type==="area"&&this.useVal!=="no"){this.drawVals()}if(this.unit!==""){this.drawUnit(this.unit)}},swtGraph:function(){switch(this.type){case ("line"):this.drawLine();break;case ("bar"):this.drawBar();break;case ("bezi"):this.drawbeziLine();break;case ("bezi2"):this.drawbeziLine2();break;case ("stacked"):this.drawStackedBar();break;case ("area"):this.drawArea();break;case ("stackedarea"):this.drawStackedArea();break;case ("stacked%"):this.drawStackedPercent();break;case ("ampli"):this.drawAmplitude();break;default:this.drawBar();break}},drawGradient:function(){var d=this.bgGradient;var e=(d.direction==="vertical")?this.height:0;var b=(d.direction==="horizontal")?this.width:0;var c=this.ctx.createLinearGradient(0,0,b,e);c.addColorStop(0,d.from);c.addColorStop(1,d.to);this.ctx.fillStyle=c;this.ctx.fillRect(0,0,this.width,this.height);return this},drawAxisX:function(){this.axisXWidth=this.op.config.axisXWidth||1;for(var c=this.chartBottom,b=0;c>=this.chartTop;c-=this.yGap,b++){if(this.adds.length<=2){this.ctx.beginPath();this.ctx.lineWidth=this.axisXWidth;this.ctx.strokeStyle=this.xColor;this.ctx.moveTo(this.chartLeft,c);this.ctx.lineTo(this.chartRight,c);this.ctx.stroke()}if(this.onlyChart==="no"){this.drawYscale(c,b)}}return this},drawAxisY:function(){this.axisYWidth=this.op.config.axisYWidth||1;this.xScaleSkip=this.op.config.xScaleSkip||0;var b=this.axisYWidth;for(var d=this.chartLeft,c=0;d<=this.chartRight;d+=this.xGap,c++){if(this.xScaleSkip!==0){if(c%this.xScaleSkip===0){b=3}else{b=1}}this.ctx.beginPath();this.ctx.lineWidth=b;this.ctx.strokeStyle=this.yColor;this.ctx.moveTo(d,this.chartTop);this.ctx.lineTo(d,this.chartBottom);this.ctx.stroke();if(this.useFirstToColName&&this.onlyChart==="no"){if(this.xScaleSkip!==0){if(c%this.xScaleSkip===0){this.drawXscale(d,c)}}else{this.drawXscale(d,c)}}}return this},drawXscale:function(d,f){if(!this.colNames[f]){return this}this.ctx.save();var j=this.op.config.xScaleColor||this.textColor||this.textColors.x||"#aaa";var b=this.op.config.xScaleFont||"100 12px 'Arial'";var c=this.op.config.xScaleAlign||"center";var h=this.op.config.xScaleXOffset||0;var e=this.op.config.xScaleYOffset||20;var g=this.op.config.colNamesTitleOffset||8;var i=this.xGap/2-h;this.ctx.font=b;this.ctx.textAlign=c;this.ctx.fillStyle=j;this.ctx.fillText(this.colNames[f],d+i,this.chartBottom+e);if(f===0){this.ctx.fillText("("+this.colNamesTitle+")",this.chartRight+g,this.chartBottom+e)}this.ctx.restore();return this},drawYscale:function(j,g){this.ctx.save();var f=this.op.config.yScaleColor||this.textColor||this.textColors.y||"#aaa";var c=this.op.config.yScaleFont||"100 12px 'Arial'";var k=this.op.config.yScaleAlign||"right";var i=this.op.config.yScaleXOffset||this.paddingLeft-10;var e=this.op.config.yScaleYOffset||6;i=(this.adds.length>2)?(this.chartRight+10):i;k=(this.adds.length>2)?"left":k;var b="",h="";if(this.type==="stacked%"){b=g*10+"%"}else{if(j<=this.chartTop){this.wkYScale=this.maxY}b=d(this.wkYScale);h=(this.yScalePercent==="yes")?(" ("+g*10+"%)"):""}this.wkYScaleStr=b+h;this.ctx.font=c;this.ctx.fillStyle=f;this.ctx.textAlign=k;this.ctx.fillText(this.wkYScaleStr,i,j+e);this.wkYScale=parseFloat(this.wkYScale);this.wkYScale+=this.yGapValue;this.ctx.restore();function d(m){if(isNaN(parseInt(m))){return m}var o=""+parseInt(m);var l=o.split(".")[1];l=(l)?"."+l:"";if(l.length>3){l=Math.round(l.substr(0,2)+"."+l.slice(2))}var p=o.charAt(0);p=(p==="-"||p==="+")?p:"";o=(l==="")?o:o.split(".")[0];o=(p==="")?o:o.substr(1);for(var n=3;n<o.length;n+=4){o=o.substring(0,o.length-n)+","+o.substring(o.length-n)}l=isNaN(l)?"":l;return p+o+l}return this},drawTitle:function(){if(this.title===""){return this}this.ctx.save();var f=this.title||"";var d=this.op.config.titleFont||"100 28px 'Arial'";var c=this.op.config.titleTextAlign||"center";var e=this.op.config.titleColor||this.textColor||this.textColors.title||"#ccc";var b=this.op.config.titleY||38;this.ctx.font=d;this.ctx.textAlign=c;this.ctx.fillStyle=e;this.ctx.fillText(f,this.width/2,b);this.ctx.restore();return this},drawSubTitle:function(){if(this.subtitle===""){return this}this.ctx.save();var f=this.subtitle||"";var d=this.op.config.subTitleFont||"100 12px 'Arial'";var e=this.op.config.subTitleTextAlign||"center";var c=this.op.config.subTitleColor||this.textColor||this.textColors.subTitle||"#ddd";var b=this.op.config.subTitleY||55;if(this.title===""){b=25}this.ctx.font=d;this.ctx.textAlign=e;this.ctx.fillStyle=c;this.ctx.fillText(f,this.width/2,b);this.ctx.restore();return this},drowHanrei:function(){this.ctx.save();var h=this.rowNames.length;var l=this.op.config.hanreiXOffset||14;var d=this.op.config.hanreiYOffset||40;var j=this.op.config.hanreiRadius||(h<10)?8:(h<20)?5:3;var n=0;if(this.type==="line"||this.type==="bezi"||this.type==="bezi2"){n=j/5;j=j-n}var o=this.op.config.hanreiLineHeight||(h<10)?20:(h<20)?14:8;var m=(h<10)?12:(h<20)?9:6;var c=this.op.config.hanreiFont||"100 "+m+"px 'Arial'";var e=this.op.config.hanreiColor||this.textColor||this.textColors.hanrei||"#ccc";var k=this.op.config.hanreiAlign||"left";if(this.adds.length>=2){l=l+48}if(this.adds.length==2){d=d+(o*h)+10}for(var f=0;f<this.rowNames.length;f++){this.ctx.beginPath();this.drawShadow("#222",5,5,5);this.ctx.fillStyle=this.colorSet[f];this.ctx.strokeStyle=this.colorSet[f];if(this.hanreiMarkerStyle==="arc"){b(this)}else{g(this)}this.ctx.font=c;this.ctx.textAlign="left";this.ctx.fillStyle=e;this.ctx.fillText(this.rowNames[f],this.chartRight+l+j*2,this.chartBottom-(o*f)-d);this.ctx.closePath()}this.ctx.restore();function b(p){var i=p.chartRight+l;var q=p.chartBottom-(o*f)-d-4;p.ctx.arc(i,q,j,0,Math.PI*2);p.ctx.fill();if(p.type==="line"||p.type==="bezi"||p.type==="bezi2"){p.ctx.beginPath();p.ctx.lineWidth=3;p.ctx.moveTo(i-n*2-6,q);p.ctx.lineTo(i+j*2-n*2,q);p.ctx.stroke()}}function g(p){var i=p.chartRight+l-j;var q=p.chartBottom-(o*f)-d-3-j;p.ctx.fillRect(i,q,j*2,j*2);p.ctx.fill();if(p.type==="line"||p.type==="bezi"||p.type==="bezi2"){p.ctx.lineWidth=3;p.ctx.moveTo(i-n*2,q+j);p.ctx.lineTo(i+j*2+n*2,q+j);p.ctx.stroke()}}return this},drawUnit:function(d){var h=navigator.language==="ja"?"単位:":"";var f=this.chartLeft-(this.op.config.unitXOffset||10);var e=this.chartTop-(this.op.config.unitYOffset||12);var c=this.op.config.unitColor||this.textColor||this.textColors.unit||"#aaa";var b=this.op.config.unitFont||"100 12px 'Arial'";var g=this.op.config.unitAlign||"right";f=(this.adds.length>2)?(this.chartRight+10):f;g=(this.adds.length>2)?"left":g;if(typeof d==="string"){this.unit=this.unit;this.drawMemo({val:"("+h+this.unit+")",left:f,top:e,align:g,color:c,font:b})}else{if(typeof d==="object"){this.unit=d.unit;this.drawMemo({val:"("+h+d.unit+")",left:d.left||f,top:d.top||e,align:d.align||"left",color:d.color||c,font:d.font||b})}}return this},drawVals:function(){if(this.useVal==="no"){return this}this.ctx.save();var g=this.valXOffset=this.op.config.valXOffset||0;var h=this.valYOffset=this.op.config.valYOffset||0;var f=this.valFont=this.op.config.valFont||"100 12px 'Arial'";for(var e=0;e<this.dataRowLen;e++){if(typeof this.useVal==="object"){if(this.useVal[e]==="no"){continue}}if(typeof this.valXOffset==="object"){g=this.valXOffset[e]||0}if(typeof this.valYOffset==="object"){h=this.valYOffset[e]||0}if(typeof this.valFont==="object"){f=this.valFont[e]||"100 12px 'Arial'"}var d=(typeof this.valColor==="string")?this.valColor:(typeof this.valColor==="object"&&this.valColor.length>0)?this.valColor[e]:this.colorSet[e];var b=this.chartLeft;b+=this.xGap/2;for(var c=0;c<this.data[e].length;c++){var i=this.chartBottom-(this.data[e][c]-this.minY)*this.unitH;this.ctx.beginPath();this.ctx.font=f;this.ctx.fillStyle=d;this.ctx.textAlign="right";this.ctx.fillText(this.data[e][c],b+g,i-h);b+=this.xGap}}this.ctx.restore();return this},_drawVals:function(i){var h=i.that;var f=i.row;var e=i.col;if(h.useVal==="no"){return this}h.ctx.save();h.valColor=h.op.config.valColor;var j=h.valXOffset=h.op.config.valXOffset||i.xoff||10;var d=h.valYOffset=h.op.config.valYOffset||i.yoff||-20;var c=h.valFont=h.op.config.valFont||i.font||"100 12px 'Arial'";if(typeof h.useVal==="object"){if(h.useVal[f]==="no"){return this}}if(typeof h.valXOffset==="object"){j=h.valXOffset[f]||0}if(typeof h.valYOffset==="object"){d=h.valYOffset[f]||0}if(typeof h.valFont==="object"){c=h.valFont[f]||i.font||"100 12px 'Arial'"}var g=(typeof h.valColor==="string")?h.valColor:(typeof h.valColor==="object"&&h.valColor.length>0)?h.valColor[f]:i.color;var b=i.val;if(this.type==="stacked%"){b=(this.percentVal==="yes")?i.percent+"%":i.val}h.ctx.font=c;h.ctx.fillStyle=g;h.ctx.textAlign=i.align||"right";h.ctx.fillText(b,i.x+j,i.y+d);h.ctx.restore();return this},drawMarkers:function(f){this.ctx.save();if(!f){var f=this.op||{}}var b=f.markerWidth||this.markerWidth;var m=f.colorSet||this.colorSet;if(this.type==="stackedarea"){var e=this.stacedData}else{if(this.type==="stacked%"){var e=this.stacedPData}else{var e=this.data}}if(this.useCss==="yes"&&this.hybridBox){var g=document.querySelector("#-ccchart-css-group-"+this.id);g.innerHTML=""}for(var d=0;d<this.dataRowLen;d++){var j=this.chartLeft;j+=this.xGap/2;this.ctx.fillStyle=m[d];for(var c=0;c<e[d].length;c++){var h=e[d][c]*this.unitH;var i=this.chartBottom-(h-this.minY*this.unitH);this.ctx.beginPath();if(this.useCss==="yes"&&(this.useMarker==="css-ring"||this.useMarker==="css-maru")){var f={x:j,y:i,radius:b/2,row:d,col:c,data:e[d][c]};if(this.useMarker==="css-ring"){this.css_ring(f)}else{if(this.useMarker==="css-maru"){this.css_maru(f)}}}else{this.ctx.arc(j,i,b/2,0,Math.PI*2)}this.ctx.closePath();this.ctx.fill();j+=this.xGap}}this.ctx.restore();return this},drawXLine:function(){var f=this.xLines;this.ctx.save();for(var e=0;e<f.length;e++){var c=f[e].font||"100 18px 'Arial'";var m=f[e].val||0;var l=f[e].color||"rgba(204,153,0,0.7)";var g=f[e].vColor||l;var h=f[e].width||1;var j=this.chartRight-(f[e].xOffset||2);var d=-(f[e].yOffset||4);var b=this.unitH*m;var k=this.chartBottom-(b-this.minY*this.unitH);this.ctx.beginPath();this.ctx.lineWidth=h;this.ctx.strokeStyle=l;this.drawShadow("#444",7,7,5);this.ctx.moveTo(this.chartLeft,k);this.ctx.lineTo(this.chartRight,k);this.ctx.stroke();this.wkYScaleStr=m;this.ctx.textAlign="right";this.ctx.font=c;this.ctx.fillStyle=g;this.ctx.fillText(this.wkYScaleStr,j,k+d)}this.ctx.restore();return this},_drawLine:function(i,g){this.ctx.save();if(!i){var i=this.op||{}}var c=i.lineWidth||this.lineWidth;var f=i.colorSet||this.colorSet;for(var e=0;e<this.dataRowLen;e++){var b=this.chartLeft;b+=this.xGap/2;this.ctx.beginPath();this.ctx.lineWidth=c;this.ctx.strokeStyle=f[e];this.ctx.fillStyle=this.colorSet[e];if(this.lineWidth>1){this.drawShadow("#222",5,5,5)}if(this.type==="area"){this.ctx.moveTo(b,this.chartBottom)}for(var d=0;d<this.data[e].length;d++){var h=this.chartBottom-(this.data[e][d]-this.minY)*this.unitH;if(this.type==="area"){this.ctx.lineTo(b,h)}else{if(d===0){this.ctx.moveTo(b,h)}else{this.ctx.lineTo(b,h)}}b+=this.xGap}if(this.type==="area"){this.ctx.lineTo(b-this.xGap,this.chartBottom)}if(g){g(this)}else{this.ctx.stroke()}}this.ctx.restore();if(this.ondrew){this.ondrew(this)}return this},drawLine:function(b){this._drawLine(b,function(c){c.ctx.stroke()});return this},drawAmplitude:function(b){this._drawLine(b,function(c){c.ctx.fill()});return this},drawArea:function(b){this._drawLine(b,function(c){c.ctx.fill()});return this},_drawStackedArea:function(f,b){this.ctx.save();if(!f){var f=this.op||{}}var g=f.lineWidth||this.lineWidth;var n=f.colorSet||this.colorSet;var m=[];var e=[];for(var d=0;d<this.dataRowLen;d++){m[d]=[];for(var c=0;c<this.data[d].length;c++){m[d][c]=(this.data[d][c]+(m[d-1]?m[d-1][c]:0));e[c]=m[d][c]}}this.stacedData=m;this.stacedPData=[];for(var d=m.length-1;d>=0;d--){var j=this.chartLeft;j+=this.xGap/2;this.ctx.beginPath();this.ctx.lineWidth=g;this.ctx.strokeStyle=n[d];this.ctx.fillStyle=this.colorSet[d];if(this.lineWidth>1){this.drawShadow("#222",5,5,5)}this.ctx.moveTo(j,this.chartBottom);this.stacedPData[d]=[];for(var c=0;c<m[d].length;c++){var h=m[d][c]*this.unitH;if(this.type==="stacked%"){this.stacedPData[d][c]=m[d][c]*100/e[c];h=this.stacedPData[d][c]*this.unitH}var i=this.chartBottom-(h);this.ctx.lineTo(j,i);this._drawVals({that:this,val:this.data[d][c],percent:Math.round(this.data[d][c]*100/e[c],10),row:d,col:c,align:"left",xoff:-10,yoff:-10,x:j,y:i});j+=this.xGap}this.ctx.lineTo(j-this.xGap,this.chartBottom);this.ctx.fill()}this.ctx.restore();if(this.ondrew){this.ondrew(this)}return this},drawStackedArea:function(b){this._drawStackedArea(b,function(c){});return this},drawStackedPercent:function(b){this._drawStackedArea(b,function(c){});return this},drawBar:function(){var d=this;d.widthOfAllBar=c();if(this.widthOfAllBar>this.xGap){this.barPadding=0;this.barGap=1;this.barWidth=this.xGap/d.dataRowLen-1;b()}else{b()}if(this.ondrew){this.ondrew(this)}function c(){return d.barPadding+d.barWidth*d.dataRowLen+d.barGap*(d.dataRowLen-1)}function b(){e(function(i,h,g,f,j){i.ctx.fillRect(f,j,i.barWidth,i.data[h][g]*i.unitH)});e(function(i,h,g,f,j){i._drawVals({that:i,val:i.data[h][g],row:h,col:g,align:"left",xoff:2,yoff:-15,x:f,y:j})});function e(i){d.ctx.save();for(var h=0;h<d.dataRowLen;h++){var f=d.barPadding+d.chartLeft;d.ctx.beginPath();d.ctx.fillStyle=d.colorSet[h];d.drawShadow("#222",5,5,5);for(var g=0;g<d.data[h].length;g++){var j=(d.chartBottom-d.data[h][g]*d.unitH);i(d,h,g,f,j);f+=d.xGap}d.ctx.translate(d.barWidth+d.barGap,0)}d.ctx.restore();return this}}},drawStackedBar:function(){this.ctx.save();var e=this;var b=e.barPadding+e.chartLeft;for(var d=0;d<e.dataColLen;d++){var f=0;for(var c=0;c<e.dataRowLen;c++){var g=(e.chartBottom-e.data[c][d]*e.unitH);e.ctx.beginPath();e.ctx.fillStyle=e.colorSet[c];e.drawShadow("#222",5,-5,5);e.ctx.fillRect(b,g,e.barWidth,e.chartBottom-g);e._drawVals({that:e,color:"#eee",val:e.data[c][d],row:d,col:c,align:"left",xoff:2,yoff:-20,x:b,y:e.chartBottom+15});e.ctx.translate(0,-(e.chartBottom-g));f+=e.chartBottom-g}e.ctx.translate(0,f);b+=e.xGap}e.ctx.restore();if(this.ondrew){this.ondrew(this)}return this},drawbeziLine:function(){this.ctx.save();var f=0,d=0;for(var e=0;e<this.dataRowLen;e++){var b=this.chartLeft;b+=this.xGap/2;this.ctx.beginPath();this.ctx.lineWidth=this.lineWidth;this.ctx.strokeStyle=this.colorSet[e];this.drawShadow("#222",5,5,5);for(var c=0;c<this.data[e].length;c++){var g=this.chartBottom-(this.data[e][c]-this.minY)*this.unitH;if(c==0){this.ctx.moveTo(b,g)}else{this.ctx.quadraticCurveTo(f,d,b,g)}b+=this.xGap;f=b,d=g}this.ctx.stroke()}this.ctx.restore();if(this.ondrew){this.ondrew(this)}return this},drawbeziLine2:function(){this.ctx.save();for(var d=0;d<this.dataRowLen;d++){var b=this.chartLeft;b+=this.xGap/2;this.ctx.beginPath();this.ctx.lineWidth=this.lineWidth;this.ctx.strokeStyle=this.colorSet[d];this.drawShadow("#222",5,5,5);for(var c=0;c<this.data[d].length;c++){var g=this.chartBottom-(this.data[d][c]-this.minY)*this.unitH;var f=b+(this.xGap)/2;var e=this.chartBottom-(((this.data[d][c+1]+this.data[d][c])/2)*this.unitH-this.minY*this.unitH);if(c==0){this.ctx.moveTo(b,g)}else{if(c==this.data[d].length-1){this.ctx.quadraticCurveTo(b,g,b,g)}else{this.ctx.quadraticCurveTo(b,g,f,e)}}b+=this.xGap}this.ctx.stroke()}this.ctx.restore();if(this.ondrew){this.ondrew(this)}return this},drawShadow:function(c,b,g,f){if(this.useShadow!=="yes"){return this}var d=navigator.userAgent.toLowerCase();var e=/(android) ([0-9])/.exec(d);if(e){g=(e[2]<4)?-g:g}this.ctx.shadowColor=c;this.ctx.shadowOffsetX=b;this.ctx.shadowOffsetY=g;this.ctx.shadowBlur=f;return this},flip:function(d,l,b){var g=this.util.xbcss;var i=b?b:this.flipDirection;var e=(i==="x")?"scaleX":"scaleY";var h=parseInt(this.canvas.getAttribute("data-flipIndex"),10);if(isNaN(h)){this.flipLists=l;this.flipLists.unshift(this.op);h=1}var f=this.flipLists[h];var k=5;var c=8;j(d,f,k);if(h>=this.flipLists.length-1){h=0}else{h++}d.setAttribute("data-flipIndex",h);function j(p,o,n){var m=n;clearInterval(this.flipID);this.flipID=setInterval(function(){try{var q=m/n;if(m<=-n){clearInterval(this.flipID)}if(m>=0){p.setAttribute("style",g.enjoy(g[e](q)))}else{if(m<0){p.setAttribute("style",g.enjoy(g[e](Math.abs(q))))}}if(m===0){ccchart.init(p,o)}m--}catch(r){clearInterval(this.flipID);console.log("err")}},c)}return this},flipX:function(c,b){this.flip(c,b,"x");return this},flipY:function(c,b){this.flip(c,b,"y");return this},move:function(d,c,b,e){if((""+d.nodeName).toLowerCase()==="canvas"){this.move1(d,c,b,e)}else{if(this.util.isArray(d)){this.move2(d,c)}}return this},move1:function(j,e,h,d){var g=this;var b=(d!==undefined)?d:100;var c=this.util.isArray(e);var f=0;clearInterval(this.moveTid);this.moveTid=setInterval(function(){try{if(f<h.length-1){f++;var k={config:(c)?e[f]:e,data:h[f]};g.init(j,k)}else{clearInterval(this.moveTid)}}catch(i){clearInterval(this.moveTid)}},b);return this},move2:function(h,e){var f=this;if(!h){return this}if(this.moveStack.length===0){if(!this.moveIntOpData){this.moveIntOpData=JSON.stringify(this.op.data);if(this.useFirstToRowName){this.moveIntRowNames=this.rowNames}}else{if(this.moveIntOpData!==this.op.data){this.moveDly=0;this.moveStack=[];this.moveStackDly=[];this.op.data=JSON.parse(this.moveIntOpData)}}}var l=e||200;this.moveDly+=l;var k=this.op.config;var g=this.op.data;for(var c=0;c<g.length;c++){g[c].shift();g[c].shift();g[c].push(h[c]);g[c].unshift(this.moveIntRowNames[c-1]);if(c===g.length-1){this.moveStack.push(JSON.stringify(g))}}this.moveStackDly.push(this.moveDly);if(this.moveStack.length===0){j(f)}else{var b=setTimeout(function(){clearTimeout(b);j(f)},this.moveStackDly.shift())}function j(d){var i=JSON.parse(d.moveStack.shift());d.preProcessing({config:k,data:i})}return this},drawImg:function(m){this.ctx.save();if(!m){var m=this._img||{}}var c=m[0]||"";if(c===""){return this}var g=m.length;var f=this;this.currImgTargetCtx=this.cxs[this.id];var j,i,k,e,n,l,b,h;var d=new Image();d.src=c;d.onload=function(){if(g<=3){n=m[1]||0;l=m[2]||0;f.currImgTargetCtx.drawImage(d,n,l)}else{if(g<=5){n=m[1]||0;l=m[2]||0;b=m[3]||0;h=m[4]||0;f.currImgTargetCtx.drawImage(d,n,l,b,h)}else{if(g<=9){j=m[1]||0;i=m[2]||0;k=m[3]||0;e=m[4]||0;n=m[5]||0;l=m[6]||0;b=m[7]||0;h=m[8]||0;f.currImgTargetCtx.drawImage(d,j,i,k,e,n,l,b,h)}}}};this.ctx.restore()},drawMemo:function(j){this.ctx.save();if(!j){var j=this._memo||{}}var d=j.val||"";var h=j.left||0;var o=j.top||0;var f=j.lineTo||false;var i=j.lineTo2||false;if(!(d&&((h&&o)||f||i))){return this}var e=j.font||"100 14px 'Arial'";var c=j.align||"left";var q=j.color||this.textColor||this.textColors.memo||"#ccc";if(this.util.isArray(f)){if(f.length===2){var g=(typeof j.lineToXOffset==="number")?j.lineToXOffset:50;var n=(typeof j.lineToYOffset==="number")?j.lineToYOffset:3;var p=(typeof j.lineToWidth==="number")?j.lineToWidth:1;var b=j.lineToColor||q}else{f=false}}else{f=false}this.ctx.font=e;this.ctx.textAlign=c;this.ctx.fillStyle=q;this.ctx.fillText(d,h,o);if(f){var l=this;m(decodeURIComponent(k(this.id,"rowNames",f[0])),decodeURIComponent(k(this.id,"colNames",f[1])))}this.ctx.restore();return this;function m(t,s){var r=l.chartLeft+l.xGap/2+l.xGap*s;var u=l.chartBottom-(l.data[t][s]-l.minY)*l.unitH;l.ctx.save();l.ctx.beginPath();l.ctx.lineWidth=p;l.ctx.strokeStyle=b;l.ctx.moveTo(h+g,o+n);l.ctx.lineTo(r,u);l.ctx.stroke();l.ctx.restore()}function k(u,t,s){for(var r=0;r<l.ops[u][t].length;r++){if(""+l.ops[u][t][r]===""+s){return r}}}},toData:function(b){var d,c;if(typeof b!=="object"){d="image/png";c=this.canvas}else{d=(b.type)?b.type:"image/png";if((""+b.canvas.nodeName).toLowerCase()==="canvas"){c=b.canvas}else{c=document.getElementById(b.canvas)}}return c.toDataURL(d)},add:function(d,c){var b=this;this.adds.push([this.id,d,c]);this.init(this.adds[0][0],this.adds[0][1],this.adds[0][2]);this.adds.push([this.id,d,c]);this.preProcessing(d,c);b.adds=undefined;return this},line:function(b){this.drawLine(b);return this},markers:function(b){this.drawMarkers(b);return this},memo:function(b){this.drawMemo(b);return this},setOp:function(c,b){return this.ops[this.id][c]=this[c]=b},util:{getMax:function(b){return this._preGetMinMax(b).sort(function(d,c){return c-d})[0]},getMin:function(b){return this._preGetMinMax(b).sort(function(d,c){return d-c})[0]},_preGetMinMax:function(d){var c=[];for(var b=0;b<d.dataRowLen;b++){c=c.concat(d.data[b])}return c},getMaxSum:function(f){var d=[];var e=0;for(var c=0;c<f.dataColLen;c++){for(var b=0;b<f.dataRowLen;b++){e+=parseFloat(f.data[b][c])}d.push(e);e=0}return d.sort(function(h,g){return g-h})[0]},isMobile:function(){var c=navigator.userAgent.toLowerCase();var b=/(android|iphone|ipad|iemobile)/.exec(c);return b?b[0]:null},isArray:function(b){if(typeof b==="object"&&b.length>=0){return true}return toString.call(b).toLowerCase()==="[object array]"},bGgradient:function(d,c,b){var b=b||"left";return";;background-image:-webkit-gradient(linear, "+b+" top, "+b+" bottom, color-stop(0, "+d+"), color-stop(.5, "+c+"));background-image:-webkit-linear-gradient("+b+", "+d+" 0%, "+c+" 50%);background-image:-moz-linear-gradient("+b+", "+d+" 0%, "+c+" 50%);background-image:-ms-linear-gradient("+b+", "+d+" 0%, "+c+" 50%);background-image:-o-linear-gradient("+b+", "+d+" 0%, "+c+" 50%);"},setBG:function(c,f,e,d){if(c.nodeType===1){c.style.cssText=ccchart.util.bGgradient(f,e,d)}else{if(c.length>0){for(var b=0;b<c.length;b++){c[b].style.cssText=ccchart.util.bGgradient(f,e,d)}}}},xbcss:{enjoy:function(){var b=this.enjoy.arguments;if(!this[b[0].split("(")[0]]){return}var f=["-webkit-transform","transform","-moz-transform","-ms-transform","-o-transform"];var e="";for(var d=0;d<f.length;d++){e+=f[d]+":";for(var c=0;c<b.length;c++){e+=" "+b[c]}e+=";"}return e},translate:function(d,c){var b=(c)?(d+","+c):(d+", 0px");return"translate("+b+") "},translateX:function(b){return"translateX("+b+")"},translateY:function(b){return"translateY("+b+")"},scale:function(c,b){var b=(b)?b:c;return"scale("+c+","+b+")"},scaleX:function(b){return"scaleX("+b+")"},scaleY:function(b){return"scaleY("+b+")"},skew:function(d,c){var b=(c)?(d+","+c):d;return"skew("+b+")"},skewX:function(b){return"skewX("+b+")"},skewY:function(b){return"skewY("+b+")"},matrix:function(h,f,j,i,g,e){return"matrix("+h+","+f+","+j+","+i+","+g+","+e+")"},matrix3d:function(q,p,n,l,i,h,g,f,e,d,c,b,o,m,k,j){return"matrix3d("+q+","+p+","+n+","+l+","+i+","+h+","+g+","+f+","+e+","+d+","+c+","+b+","+o+","+m+","+k+","+j+")"},rotate:function(b){return"rotate("+b+"deg)"}}}}})(window);window.ccchart.m.cssHybrid=(function(a){return{aboutThis_module:{name:"cssHybrid",varsion:"0.04",update:20120610,lisence:"Public Domain",demo:"http://jsgt.org/c/",writer:"Toshiro Takahashi @toshirot",see:"http://www.facebook.com/javascripting",branched:"This is module for ccchart(canvasChart) v0.919+http://jsgt.org/c/"},useCssSetting:function(){if(this.useCss!=="yes"){return this}var n=this.id;var i=this;var s=q(this.canvas);var m=v("top");var g=v("left");var f=v("margin-top");var o=v("margin-left");var x=v("padding-top");var y=v("padding-left");var r=v("border-top-width");var b=v("border-left-width");var c=v("z-index");var A=s.position;var A=(A==="relative"||A==="static")?"absolute":A;this.maxZindex=(this.maxZindex<c)?c:this.maxZindex;var p=(this.ua.match(/opera/)&&A==="fixed")?(v("top")+Math.max(v("margin"),v("margin-top"))):0;var d=(this.ua.match(/opera/)&&A==="fixed")?(v("left")+Math.max(v("margin"),v("margin-left"))):0;this.ops[this.id]["adjustTop"]=x+r+p;this.ops[this.id]["adjustLeft"]=y+b+d;var k="{;width:120px;height:40px;box-shadow: 6px 6px 6px rgba(000,000,000,0.6), inset 2px 2px 3px 3px rgba(180,180,180,0.2);;border: 1px solid rgba(180,180,180,0.7);border-radius: 12px;position: absolute;top: -100px;left: -1000px;font-size: 10px;line-height: 11px;padding-top: 5px;text-align: center;text-shadow: 0px;}";var j='{;content: " ";position: absolute;z-index: 2;left: 20px;top: 45px;background: transparent;border : 12px solid;border-color: rgba(200,200,200,0.9) transparent transparent;}';this.cssTooltip=this.op.cssTooltip||k;this.cssTooltipFukidashi=this.op.cssTooltipFukidashi||j;this.hybridCssEl=document.querySelector("#-ccchart-css-styles");this.hybridCss=t();if(this.hybridCssEl===null){this.hybridCssEl=document.createElement("style");this.hybridCssEl.setAttribute("id","-ccchart-css-styles");this.hybridCssEl.setAttribute("title","-ccchart-css-styles");var z="";z+=".-ccchart-css-arc{background-color: rgba(0,0,0,0.5);}";z+="div.-ccchart-css-arc:hover{";z+="  box-shadow: 0px 0px 30px rgba(255,255,255,1);";z+="  background-color: rgba(255,255,255,0.5);";z+="}";z+=".line{border-top: 1px solid #000;}";z+="div.line:hover{";z+="  box-shadow: 0px 0px 30px rgba(255,255,255,1);";z+="  background-color: rgba(255,255,255,0.5);";z+="}";z+=".-ccchart-css-tooltip "+this.cssTooltip;z+=".-ccchart-css-tooltip:before "+this.cssTooltipFukidashi;this.hybridCssEl.innerHTML=z;document.head.appendChild(this.hybridCssEl)}this.hybridCss=document.styleSheets[0];this.hybridBox=document.querySelector("#-ccchart-css-hybrid");if(this.hybridBox===null){var l=document.createElement("div");l.setAttribute("id","-ccchart-css-hybrid");this.hybridBox=document.body.appendChild(l)}this.hybridBox.innerHTML="";this.cssgs[n]=document.querySelector("#-ccchart-css-group-"+n);if(!this.cssgs[n]){var w=document.createElement("div");w.setAttribute("class","-ccchart-css-group");this.cssgs[n]=this.hybridBox.appendChild(w);this.cssgs[n].setAttribute("id","-ccchart-css-group-"+n)}var z="";z+=";width:"+h("width",this.width)+"px";z+=";height:"+h("height",this.height)+"px";z+=";position:"+A;if(A==="fixed"){var e=this.maxZindex+2;z+=";z-index:"+(""+e);this.canvas.style.zIndex=(""+e)}else{z+=";z-index:"+(this.maxZindex+1)}this.cssgs[n].setAttribute("style",z+";background:transparent;border-color:transparent;");if(this.useCssToolTip==="yes"){u(this)}return this;function u(C){var E=C.id;C.cssTooltips[E]=document.querySelector("#-ccchart-css-tooltip-"+E);if(!C.cssTooltips[E]){var D=document.createElement("div");D.setAttribute("class","-ccchart-css-tooltip");D.setAttribute("id","-ccchart-css-tooltip-"+E);var B="";B+=";z-index:"+(C.maxZindex+1);setTimeout(function(){C.cssTooltips[E]=C.cssgs[E].appendChild(D);C.util.setBG(document.querySelectorAll("#-ccchart-css-tooltip-"+E),"rgba(200,200,200,0.6)","rgba(255,255,255,0.6)","top")},0)}}function t(){var C=null;for(var B=0;B<document.styleSheets.length;B++){if(document.styleSheets[B].title==="-ccchart-css-styles"){C=document.styleSheets[B]}break}return C}function h(C,B){return i.canvas.style[C]||i.canvas.getAttribute(C)||B}function q(B){return B.currentStyle||document.defaultView.getComputedStyle(B,"")}function v(B){return parseFloat(document.defaultView.getComputedStyle(i.canvas,"").getPropertyValue(B),10)||0}},adjustCss:function(c){for(var b in this.ops){if(this.ops[b].useCss!=="yes"){continue}var d=this.ops[b]["adjustTop"]+document.getElementById(b).offsetTop;document.getElementById("-ccchart-css-group-"+b).style.top=d+"px";document.getElementById("-ccchart-css-group-"+b).style.left=this.ops[b]["adjustLeft"]+document.getElementById(b).offsetLeft+"px"}},_css_arc:function(m){var k=this;var p=this.id;if(!m){var m=this.op||{}}var o=m.x||0;var n=m.y||0;var g=m.radius||5;var s=this.borderWidth||3;var c=m.borderColor||m.colorSet||this.colorSet;var b=m.bgColor||m.colorSet||this.colorSet;var h=(m.etcStyle?m.etcStyle:"");var d=document.createElement("div");if(s>g){g=s}d.setAttribute("class","-ccchart-css-arc "+m.classStr);d.setAttribute("data-row",m.row);d.setAttribute("data-col",m.col);d.setAttribute("data-y",this.rowNames[m.row]);d.setAttribute("data-x",this.colNames[m.col]);d.setAttribute("data-data",m.data);d.setAttribute("data-bg",b[m.row]);var e="position: absolute;left:"+(o-g)+"px;top:"+(n-g)+"px;width:"+g*2+"px;height:"+g*2+"px;border-radius:"+g*2+"px;"+((m.classStr==="css-maru")?("background: "+b+";"):"")+((m.classStr==="css-ring")?("border:"+s+"px solid "+c+";"):"")+"box-sizing: border-box;"+this.pfx["transform-origin"]+": 0px 0px;"+this.pfx["box-sizing"]+": border-box;"+this.pfx.transition+": background-color 200ms linear";d.setAttribute("style",e+h);var l=this.cssgs[p].appendChild(d);function f(A,x){k.csstoolRock=true;var z=x.target.getAttribute("data-row");var u=x.target.getAttribute("data-y");var v=x.target.getAttribute("data-x");var w=x.target.getAttribute("data-data");var t=x.target.getAttribute("data-bg");var y=(k.colNamesTitle)?k.colNamesTitle:"";k.cssTooltips[A].style.left=(o-g-20)+"px";k.cssTooltips[A].style.top=(n-g-70)+"px";k.cssTooltips[A].innerHTML='<span class="-ccchart-ttip-colNameTitle">'+y+'</span> <span class="-ccchart-ttip-colName">'+v+'</span><br><span class="-ccchart-ttip-rowName">'+u+'</span><br><span class="-ccchart-ttip-data">'+w+"</span>"+(k.unit||"")+((k.ops[A].yScalePercent==="yes")?(" ("+Math.round(w*100/k.maxY,10)+"%)"):"");k.deleteCssRule("#-ccchart-css-tooltip-"+A+"::before");k.hybridCss.insertRule("#-ccchart-css-tooltip-"+A+":before{ border-color:"+t+" transparent transparent;}",k.hybridCss.cssRules.length);clearTimeout(this._ttId);this._ttId=setTimeout(function(){k.csstoolRock=false},1500)}function i(t){if(!k.csstoolRock&&k.cssTooltips[t]){k.cssTooltips[t].style.left=-1000+"px";k.cssTooltips[t].style.top=-1000+"px";k.cssTooltips[t].innerHTML=""}}if(this.useCssToolTip==="yes"){var j=this.util.isMobile();var r=(j)?"touchstart":"mouseover";var q=(j)?"touchend":"mouseout";l.addEventListener(r,function(t){f(p,t)});l.addEventListener(q,function(){setTimeout(function(){if(!k.csstoolRock){i(p)}},1000)});l.addEventListener("dblclick",function(){if(k.csstoolRock){k.csstoolRock=false}else{k.csstoolRock=true}})}if((this.dataRowLen-1)===m.row&&(this.dataColLen-1)===m.col){this.adjustCss()}return d},css_ring:function(b){b.classStr="css-ring";b.borderColor=b.borderColor||this.colorSet[b.row];this._css_arc(b)},css_maru:function(b){b.classStr="css-maru";b.bgColor=b.bgColor||this.colorSet[b.row];this._css_arc(b)},css_lineTo:function(b){b.classStr="css_lineTo";b.bgColor=b.bgColor||this.colorSet[b.row]},deleteCssRule:function(c){for(var b=0;b<this.hybridCss.cssRules.length;b++){if(this.hybridCss.cssRules[b].selectorText===c){this.hybridCss.deleteRule(b)}}}}})(window);